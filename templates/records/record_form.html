{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% trans "Create Record" %}{% endblock %}
{% block header_title %}{% trans "Create Record" %}{% endblock %}

{% block content %}

{% if error %}
<div class="error-message">{{ error }}</div>
{% endif %}

<form method="post">
  {% csrf_token %}

  <fieldset>
    <legend>{% trans "Basic Information" %}</legend>

    <p>
      <label>{% trans "Title" %} *</label><br>
      <input type="text" name="title" value="{{ values.title|default:'' }}" required>
    </p>

    <p>
      <label>{% trans "Record Type" %} *</label><br>
      <input type="text" name="record_type" value="{{ values.record_type|default:'' }}" required>
    </p>

    <p>
      <label>{% trans "Retention Until" %}</label><br>
      <input type="date" name="retention_until" value="{{ values.retention_until|default:'' }}">
    </p>
  </fieldset>

  <fieldset>
    <legend>{% trans "Contributors" %}</legend>

    <p>
      <select name="contributors" multiple size="5">
        {% for user in users %}
        <option value="{{ user.id }}" {% if user.id|stringformat:"s" in values.contributors_ids %}selected{% endif %}>{{ user.username }}</option>
        {% endfor %}
      </select>
    </p>
  </fieldset>

  <fieldset>
    <legend>{% trans "Description" %}</legend>

    <p>
      <textarea name="case_description" rows="4">{{ values.case_description|default:'' }}</textarea>
    </p>
  </fieldset>

  <button type="submit" class="primary-btn">
    {% trans "Save Record" %}
  </button>

  <a href="{% url 'record_list' %}" class="cancel">
    {% trans "Cancel" %}
  </a>

</form>

{% endblock %}
